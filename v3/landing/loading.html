<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>

    <link rel="icon" type="image/x-icon" href="../404.png" />

    <link rel="stylesheet" href="loadingstyles.css" />
    <link rel="stylesheet" href="https://use.typekit.net/why0zpc.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,300;0,400;0,500;0,600;1,300&family=Inter:wght@100;200;300;600&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />

    <script src="../libraries/p5.min.js"></script>
    <script src="../libraries/p5.sound.min.js"></script>
    <script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/circular-revealer@0.0.8/dist/index.iife.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-parallax-js@5.5.1/dist/simpleParallax.min.js"></script>
    <script src="https://cdn.rawgit.com/bit101/quicksettings/master/quicksettings.js"></script>
    <script src="https://cdn.rawgit.com/bitcraftlab/p5.gui/master/libraries/p5.gui.js"></script>
    <script src="./script.js"></script>

    <title>FORGET ME NOT</title>
  </head>
  <body>
    <h1 id="top">Hallo, Wij zijn Codefield!</h1>

    <h1 id="enter">PRESS ENTER TO SKIP INTRO ‚èé</h1>

    <script src="blinking.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function (event) {
        // array with texts to type in typewriter
        var dataText = [
          "Since the pandemic, New York City has lost many of its long standing small businesses that have served neighborhoods for upwards of a century",
          "By the end of 2021, it was reported that over 5,200 small, private operating businesses were permanently closed.",
          "Although the city is slowly becoming riddled with empty square spaces with only traces of what once was and For Lease signs plastered on display windows, the stories of the people who owned those businesses and were patrons of them live on forever.",
          "404 is an archive of stories of a small selection of such businesses, honoring their existence, and creating a space for their signs to live on forever.",
          "Press ENTER to continue.",
        ];

        function typeWriter(text, i, fnCallback) {
          // chekc if text isn't finished yet
          if (i < text.length) {
            // add next character to h1
            document.querySelector("h1").innerHTML =
              text.substring(0, i + 1) + '<span aria-hidden="true"></span>';

            // wait for a while and call this function again for next character
            setTimeout(function () {
              typeWriter(text, i + 1, fnCallback);
            }, 100);
          }
          // text finished, call callback if there is a callback function
          else if (typeof fnCallback == "function") {
            // call callback after timeout
            setTimeout(fnCallback, 700);
          }
        }
        // start a typewriter animation for a text in the dataText array
        function StartTextAnimation(i) {
          if (typeof dataText[i] == "undefined") {
            setTimeout(function () {
              StartTextAnimation(0);
            }, 20000);
          }
          // check if dataText[i] exists
          if (i < dataText[i].length) {
            // text exists! start typewriter animation
            typeWriter(dataText[i], 0, function () {
              // after callback (and whole text has been animated), start next text
              StartTextAnimation(i + 1);
            });
          }
        }
        // start the text animation
        StartTextAnimation(0);
      });

      document.addEventListener("keypress", function (e) {
        if (e.keyCode == 13)
          //key code for 'a'
          location = "index.html";
      });
    </script>
  </body>
</html>
